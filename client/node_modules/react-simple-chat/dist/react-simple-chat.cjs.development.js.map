{"version":3,"file":"react-simple-chat.cjs.development.js","sources":["../src/components/header/Header.tsx","../src/components/bubble/Bubble.tsx","../src/components/timestamp/Timestamp.tsx","../src/components/avatar/Avatar.tsx","../src/components/typing_indicator/TypingIndicator.tsx","../src/components/body/Body.tsx","../src/components/input/Input.tsx","../src/components/widget/Widget.tsx","../src/components/chat/Chat.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface Props {\r\n    title?: string;\r\n    minimize: () => void;\r\n    headerAvatar?: string;\r\n    headerStyle?: object;\r\n    titleColor?: string;\r\n    minimizeIcon?: string;\r\n}\r\n\r\nconst defaultMinimizeIcon = 'data:image/png;base64, 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';\r\n\r\nconst Header: React.FC<Props> = ({ title, minimize, headerAvatar, headerStyle, titleColor, minimizeIcon }) => {\r\n    return (\r\n        <header className=\"chat-header\" style={headerStyle}>\r\n            <div className=\"d-flex align-items-center\">\r\n                {headerAvatar && <div className=\"chat-header__avatar\">\r\n                    <img src={headerAvatar} alt=\"avatar\" />\r\n                </div>}\r\n                <div className=\"chat-header__title\" style={{ color: titleColor }}>{title ? title : 'Chat Demo'}</div>\r\n            </div>\r\n            <img src={minimizeIcon ? minimizeIcon : defaultMinimizeIcon} alt=\"minimize\" className=\"chat-header__minimize\" onClick={minimize} />\r\n        </header>\r\n    );\r\n}\r\nexport default Header;","import React from 'react';\r\nimport { Message } from '../chat/Chat';\r\n\r\nexport type Position = 'left' | 'right';\r\n\r\ninterface Props {\r\n    message: Message;\r\n    position: Position;\r\n    style?: object;\r\n}\r\n\r\nconst Bubble: React.FC<Props> = ({ message, position, style }) => {\r\n    return (\r\n        <div className={position === 'left' ? 'chat-bubble__wrapper chat-bubble--left' : 'chat-bubble__wrapper chat-bubble--right'}>\r\n            <div className=\"chat-bubble__content\" style={style}>{message.text}</div>\r\n        </div>\r\n    );\r\n}\r\nexport default Bubble;","import React from 'react';\r\nimport Moment from 'react-moment';\r\nimport moment from 'moment';\r\n\r\ninterface Props {\r\n    date: string;\r\n    locale?: string;\r\n    style?: object;\r\n}\r\n\r\nconst Timestamp: React.FC<Props> = ({ date, style }) => {\r\n    return (\r\n        <div className=\"chat-timestamp\" style={style}>\r\n            <Moment format=\"dd. o HH:mm\">{moment(date)}</Moment>\r\n        </div>\r\n    );\r\n}\r\nexport default Timestamp;","import React from 'react';\r\n\r\ninterface Props {\r\n    source: string;\r\n}\r\n\r\nconst Avatar: React.FC<Props> = ({ source }) => {\r\n    return (\r\n        <div className=\"chat-message__avatar\">\r\n            <img src={source} alt=\"avatar\" />\r\n        </div>\r\n    );\r\n}\r\nexport default Avatar;","import React from 'react';\r\n\r\nconst TypingIndicator: React.FC = () => {\r\n    return (\r\n        <div className=\"chat__typing-indicator\">\r\n            <div className=\"chat__typing-indicator__content\">\r\n                <div className=\"dot\"></div>\r\n                <div className=\"dot\"></div>\r\n                <div className=\"dot\"></div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default TypingIndicator;\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport Bubble, { Position } from '../bubble/Bubble';\r\nimport { Message, User } from '../chat/Chat';\r\nimport moment from 'moment';\r\nimport Timestamp from '../timestamp/Timestamp';\r\nimport Avatar from '../avatar/Avatar';\r\nimport TypingIndicator from '../typing_indicator/TypingIndicator';\r\n\r\ninterface Props {\r\n    messages: Message[];\r\n    user: User;\r\n    isTyping?: boolean;\r\n    leftBubbleStyle?: object;\r\n    rightBubbleStyle?: object;\r\n    backgroundColor?: string;\r\n    timestampStyle?: object;\r\n}\r\n\r\nconst Body: React.FC<Props> = ({ messages, user, isTyping, leftBubbleStyle, rightBubbleStyle, backgroundColor, timestampStyle }) => {\r\n    const el = React.useRef() as React.MutableRefObject<HTMLDivElement>;\r\n    const [typingUserAvatar, setTypingUserAvatar] = useState<string | undefined>();\r\n\r\n    useEffect(() => {\r\n        el.current.scrollIntoView();\r\n    }, [messages, isTyping]);\r\n\r\n    useEffect(() => {\r\n        setTypingUserAvatar(messages.find(message => message.user.id !== user.id)?.user.avatar);\r\n    }, [messages, user]);\r\n\r\n    const setStylesForBubbles = (messages: Message[], i: number, position: Position) => {\r\n        const currentMessage = messages[i];\r\n        const previousMessage = messages[i-1];\r\n        const nextMessage = messages[i+1];\r\n\r\n        let corner1 = '0px';\r\n        let corner2 = '0px';\r\n        let corner3 = '0px';\r\n        let corner4 = '0px';\r\n\r\n        let topTimestamp = previousMessage && moment(currentMessage.createdAt).diff(moment(previousMessage.createdAt), 'minutes') > 5 ? true : false;\r\n        const bottomTimestamp = nextMessage && moment(nextMessage.createdAt).diff(moment(currentMessage.createdAt), 'minutes') > 5 ? true : false;\r\n\r\n        if(!topTimestamp) {\r\n            topTimestamp = !previousMessage ? true : false;\r\n        }\r\n\r\n        if(topTimestamp && !previousMessage) {\r\n            corner1 = '15px';\r\n            corner2 = '15px';\r\n        }\r\n\r\n        if(bottomTimestamp) {\r\n            corner3 = '15px';\r\n            corner4 = '15px';\r\n        }\r\n\r\n        if(topTimestamp) {\r\n            corner1 = '15px';\r\n            corner2 = '15px';\r\n        }\r\n\r\n        if(currentMessage.user.id !== previousMessage?.user.id) {\r\n            corner1 = '15px';\r\n            corner2 = '15px';\r\n        }\r\n\r\n        if(!nextMessage) {\r\n            corner3 = '15px';\r\n            corner4 = '15px';\r\n        }\r\n\r\n        if(currentMessage.user.id !== nextMessage?.user.id) {\r\n            corner3 = '15px';\r\n            corner4 = '15px';\r\n        }\r\n\r\n        if(currentMessage.user.id === previousMessage?.user.id) {\r\n            corner2 = '15px';\r\n        }\r\n\r\n        if(currentMessage.user.id === nextMessage?.user.id) {\r\n            corner3 = '15px';\r\n        }\r\n\r\n        if(position === 'left') {\r\n            return { borderRadius: `${corner1} ${corner2} ${corner3} ${corner4}` }\r\n        }\r\n\r\n        return { borderRadius: `${corner2} ${corner1} ${corner4} ${corner3}` }\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat-body\" style={{ background: backgroundColor }}>\r\n            {messages.map((message, i) => {\r\n                const previousMessage = messages[i-1];\r\n                const nextMessage = messages[i+1];\r\n\r\n                let position: Position = 'left';\r\n                let style;\r\n\r\n                /* set style curves for bubbles */\r\n                if(message.user.id === user.id) {\r\n                    position = 'right';\r\n\r\n                    style = setStylesForBubbles(messages, i, 'right');\r\n                } else {\r\n                    style = setStylesForBubbles(messages, i, 'left');\r\n                }\r\n\r\n                /* check if timestamp is needed */\r\n                let isTimeStamp = true;\r\n                if(previousMessage) {\r\n                    const diff = moment(message.createdAt).diff(moment(previousMessage.createdAt), 'minutes');\r\n                    if(diff < 5) {\r\n                        isTimeStamp = false;\r\n                    }\r\n                }\r\n\r\n                /* check if render avatar */\r\n                let isAvatarVisible = false;\r\n                if(position === 'left' &&\r\n                    ((\r\n                        nextMessage && message.user.id !== nextMessage.user.id\r\n                    ) || (\r\n                        nextMessage &&\r\n                        moment(nextMessage.createdAt).diff(moment(message.createdAt), 'minutes') > 5\r\n                    ) || (\r\n                        !nextMessage\r\n                    ))\r\n                    && message.user.avatar\r\n                ) {\r\n                    isAvatarVisible = true;\r\n                }\r\n\r\n                return (\r\n                    <div key={i} style={nextMessage ? (message.user.id !== nextMessage.user.id ? { marginBottom: '8px' } : {}) : { marginBottom: '8px' }}>\r\n                        {isTimeStamp && message.createdAt ? <Timestamp date={message.createdAt} style={timestampStyle} /> : null}\r\n\r\n                        <div className=\"chat-body__message\">\r\n                            {message.user.avatar && isAvatarVisible && <Avatar source={message.user.avatar} />}\r\n                            {message.user.avatar && !isAvatarVisible && <div style={{ marginLeft: '30px' }} />}\r\n                            <Bubble message={message} position={position} style={{...style, ...position === 'left' ? leftBubbleStyle : rightBubbleStyle }} />\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n\r\n            {isTyping &&\r\n            <div className=\"chat-body__typing-indicator\">\r\n                {typingUserAvatar !== undefined && <Avatar source={typingUserAvatar} />}\r\n                <TypingIndicator />\r\n            </div>}\r\n\r\n            <div ref={el}></div>\r\n        </div>\r\n    );\r\n}\r\nexport default Body;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { Message, User } from '../chat/Chat';\r\nimport moment from 'moment';\r\n\r\nconst defaultSendIcon = 'data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA3QAAAN0BcFOiBwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALdSURBVFiFxZfNa1RXGMZ/7z3nznXuTALdiCkIlsYIIVHB7tyoBNy5KNo/oLiwCKLiJsQYxCRFdFEIGT+yCVZ3Im1XbmytWEtppUYiKDOGIAQRJcYkJpOZe+/bRTJjk5I6n8mzu4f3Oc+Pw/l4r6gq6ylnXdMBC9D/nL2RckSEUCL+FmG4s5nXawEg59J6QODHFeMLwE0HBjub+b2uAL1pfQK0/k/NIxVSoc+Nnibmag7Ql9YJhU9LqH0nwnAUcOn0Np7VDKA3rX8CX5ThUYQ7QKrlc346BGE1AA7Cz2V6BKUD5VY6w3h/mu6z42yqFED60rpf4XalEywpD9xCSXVt5V5ZABdGNLHg8xZwq4QoaFQhFeb4vqeV2Y8CqCq9Ge4L7K4RQEEzAtdCuNTdzJPVihZvwvL3QSlqUDjqwGhvhrv9Gb66+vC/q1xYgT0Cv9QBYkUaL1GGiLja1cJEEWAggzcNU8CGukMsKlDlfLiVM1J4Dfsy3AH2rREAAArf2sJHR3Iu/5mXL8kYKtyd9RnLVXdwBA4WAabfz+wam86WZhSYCbI8mjFVAcQcs6UIcP2dZ+aC6iYsV3Fj/rIAx/6YbJyX6JO1ChagMRb7bfPOxj0WIIh7X2t2vu7B1nGipHXvu8acTLX7D2GpI8qH0Zf1DPatnYpbO9yUT3b17FzeU1iAhSjcUetQR0ST1o661um+3N6wsuP6APDNg9mNWRs01irYMybrW/cH38jx79oSrz5WbyXpHNbSTt+qEiDhui/ijrmY2pEcKMdrcxoeqDTYFSdMWPdX13VOpNoSjyuZwy4EQVu5Jt/YyXjMHWoyiTM9reQqCS4ChKolPUCOiDZYO+IZ2zm4PVFtB/UBQEQCYNUr0DNmPmHtTeKcvNLS8KZWwUWApOtenAzDrn8PLm2qcd+6/YPt/lCtQ5dlqSpHR9+fmsuFJ1SiyBMzEjPeqYH22NN6Bi8DWE+t+9/xP1kh8hlyxqRXAAAAAElFTkSuQmCC';\r\n\r\ninterface Props {\r\n    onSend?: (message: Message) => void;\r\n    user: User;\r\n    onInputTextChanged?: (value: string) => void;\r\n    inputToolbarStyle?: object;\r\n    inputStyle?: object;\r\n    sendIcon?: string;\r\n}\r\n\r\nconst Input: React.FC<Props> = ({ user, onSend, onInputTextChanged, inputToolbarStyle, inputStyle, sendIcon }) => {\r\n    const [value, setValue] = useState<string>('');\r\n    const [message, setMessage] = useState<Message>();\r\n    const el = useRef() as React.MutableRefObject<HTMLInputElement>;\r\n\r\n    useEffect(() => {\r\n        onInputTextChanged && onInputTextChanged(value);\r\n        setMessage({\r\n            text: value,\r\n            createdAt: moment().format('YYYY-MM-DD HH:mm:ss'),\r\n            user: user\r\n        });\r\n    }, [value, onInputTextChanged]);\r\n    \r\n    const send = () => {\r\n        if(message && onSend) {\r\n            onSend(message);\r\n        }\r\n        setValue('');\r\n        el.current.focus();\r\n    }\r\n\r\n    const handleKeyDown = (e: any) => {\r\n        if (e.key === 'Enter') {\r\n            send();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"chat-input\" style={inputToolbarStyle}>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Type a message...\"\r\n                value={value}\r\n                onChange={e => setValue(e.target.value)}\r\n                onKeyDown={handleKeyDown}\r\n                ref={el}\r\n                style={inputStyle}\r\n            />\r\n            {value.length > 0 && <img src={sendIcon ? sendIcon : defaultSendIcon} alt=\"send\" onClick={send} />}\r\n        </div>\r\n    );\r\n}\r\nexport default Input;","import React from 'react';\r\n\r\nconst defaultChatIcon = 'data:image/png;base64, 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';\r\n\r\ninterface Props {\r\n    onClick: () => void;\r\n    icon?: string;\r\n    style?: object;\r\n}\r\n\r\nconst Widget: React.FC<Props> = ({ onClick, icon, style }) => {\r\n    return (\r\n        <img src={icon ? icon : defaultChatIcon} alt=\"chat\" className=\"chat-widget\" onClick={onClick} style={style} />\r\n    );\r\n}\r\nexport default Widget;","import React, { useState } from 'react';\r\nimport Header from '../header/Header';\r\nimport Body from '../body/Body';\r\nimport Input from '../input/Input';\r\nimport Widget from '../widget/Widget';\r\n\r\nexport interface User {\r\n    id: number | string;\r\n    name?: string;\r\n    avatar?: string;\r\n}\r\n\r\nexport interface Message {\r\n    id?: number | string;\r\n    text: string;\r\n    createdAt?: string;\r\n    user: User;\r\n}\r\n\r\ninterface Props {\r\n    title?: string;\r\n    minimized?: boolean;\r\n    messages: Message[];\r\n    user: User;\r\n    onSend?: (message: Message) => void;\r\n    isTyping?: boolean;\r\n    onInputTextChanged?: (value: string) => void;\r\n    headerAvatar?: string;\r\n    headerStyle?: object;\r\n    titleColor?: string;\r\n    minimizeIcon?: string;\r\n    leftBubbleStyle?: object;\r\n    rightBubbleStyle?: object;\r\n    backgroundColor?: string;\r\n    timestampStyle?: object;\r\n    inputToolbarStyle?: object;\r\n    inputStyle?: object;\r\n    sendIcon?: string;\r\n    chatIcon?: string;\r\n    containerStyle?: object;\r\n    widgetStyle?: object;\r\n}\r\n\r\nconst Chat: React.FC<Props> = ({\r\n    title,\r\n    minimized,\r\n    messages,\r\n    user,\r\n    onSend,\r\n    isTyping,\r\n    onInputTextChanged,\r\n    headerAvatar,\r\n    headerStyle,\r\n    titleColor,\r\n    minimizeIcon,\r\n    leftBubbleStyle,\r\n    rightBubbleStyle,\r\n    backgroundColor,\r\n    timestampStyle,\r\n    inputToolbarStyle,\r\n    inputStyle,\r\n    sendIcon,\r\n    chatIcon,\r\n    containerStyle,\r\n    widgetStyle\r\n}) => {\r\n    const [isMinimized, setIsMinimized] = useState(minimized);\r\n\r\n    return (\r\n        <>\r\n        {isMinimized ? <Widget\r\n            onClick={() => setIsMinimized(false)}\r\n            icon={chatIcon}\r\n            style={widgetStyle}\r\n        /> :\r\n        <div className=\"chat-container\" style={containerStyle}>\r\n            <Header\r\n                title={title}\r\n                minimize={() => setIsMinimized(true)}\r\n                headerAvatar={headerAvatar}\r\n                headerStyle={headerStyle}\r\n                titleColor={titleColor}\r\n                minimizeIcon={minimizeIcon}\r\n            />\r\n            <Body\r\n                user={user}\r\n                messages={messages}\r\n                isTyping={isTyping}\r\n                leftBubbleStyle={leftBubbleStyle}\r\n                rightBubbleStyle={rightBubbleStyle}\r\n                backgroundColor={backgroundColor}\r\n                timestampStyle={timestampStyle}\r\n            />\r\n            <Input\r\n                user={user}\r\n                onSend={onSend}\r\n                onInputTextChanged={onInputTextChanged}\r\n                inputToolbarStyle={inputToolbarStyle}\r\n                inputStyle={inputStyle}\r\n                sendIcon={sendIcon}\r\n            />\r\n        </div>}\r\n        </>\r\n    );\r\n}\r\nexport default Chat;"],"names":["defaultMinimizeIcon","Header","title","minimize","headerAvatar","headerStyle","titleColor","minimizeIcon","React","className","style","src","alt","color","onClick","Bubble","message","position","text","Timestamp","date","Moment","format","moment","Avatar","source","TypingIndicator","Body","messages","user","isTyping","leftBubbleStyle","rightBubbleStyle","backgroundColor","timestampStyle","el","useRef","useState","typingUserAvatar","setTypingUserAvatar","useEffect","current","scrollIntoView","find","id","avatar","setStylesForBubbles","i","currentMessage","previousMessage","nextMessage","corner1","corner2","corner3","corner4","topTimestamp","createdAt","diff","bottomTimestamp","borderRadius","background","map","isTimeStamp","isAvatarVisible","key","marginBottom","marginLeft","undefined","ref","defaultSendIcon","Input","onSend","onInputTextChanged","inputToolbarStyle","inputStyle","sendIcon","value","setValue","setMessage","send","focus","handleKeyDown","e","type","placeholder","onChange","target","onKeyDown","length","defaultChatIcon","Widget","icon","Chat","minimized","chatIcon","containerStyle","widgetStyle","isMinimized","setIsMinimized"],"mappings":"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"}