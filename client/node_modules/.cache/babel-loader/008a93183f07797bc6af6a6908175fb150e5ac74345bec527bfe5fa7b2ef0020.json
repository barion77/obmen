{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { serveUrl } from \"../config\";\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\";\nimport { dispatchOrder } from \"../store/slices/exchange\";\nconst useOrderInfo = () => {\n  _s();\n  const {\n    orderId\n  } = useParams();\n  const order = useAppSelector(state => state.exchange.orderInfo);\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const getOrder = async () => {\n    const order = await fetch(`${serveUrl}/order/${orderId}`).then(res => res.json());\n    if (order.error) {\n      navigate('/');\n    }\n    dispatch(dispatchOrder(order));\n  };\n  const confirmOrder = async () => {\n    try {\n      await fetch(`${serveUrl}/confirm/${orderId}`, {\n        method: 'POST'\n      }).then(res => res.json());\n      window.location.reload();\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n  useEffect(() => {\n    if (!order) {\n      getOrder();\n    }\n  }, [orderId]);\n  return {\n    orderInfo: order,\n    orderId,\n    confirmOrder\n  };\n};\n_s(useOrderInfo, \"prVprMaK16a7Gc8clnYX3oF3eT4=\", false, function () {\n  return [useParams, useAppSelector, useAppDispatch, useNavigate];\n});\nexport default useOrderInfo;","map":{"version":3,"names":["useEffect","useNavigate","useParams","serveUrl","useAppDispatch","useAppSelector","dispatchOrder","useOrderInfo","orderId","order","state","exchange","orderInfo","dispatch","navigate","getOrder","fetch","then","res","json","error","confirmOrder","method","window","location","reload","console","message"],"sources":["/Users/levanta1s/Desktop/Worker's Club/exchange_front/src/hooks/useOrderInfo.ts"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\nimport { serveUrl } from \"../config\"\r\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\"\r\nimport { dispatchOrder } from \"../store/slices/exchange\"\r\n\r\nconst useOrderInfo = () => {\r\n    const { orderId } = useParams()\r\n\r\n    const order = useAppSelector(state => state.exchange.orderInfo)\r\n    const dispatch = useAppDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const getOrder = async () => {\r\n        const order = await fetch(`${serveUrl}/order/${orderId}`).then(res => res.json())\r\n\r\n        if (order.error) {\r\n            navigate('/')\r\n        }\r\n\r\n        dispatch(dispatchOrder(order))\r\n    }\r\n\r\n    const confirmOrder = async () => {\r\n        try {\r\n            await fetch(`${serveUrl}/confirm/${orderId}`, {\r\n                method: 'POST'\r\n            }).then(res => res.json())\r\n            window.location.reload()\r\n        } catch (error: any) {\r\n            console.error(error.message)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!order) {\r\n            getOrder()\r\n        }\r\n    }, [orderId])\r\n\r\n    return {\r\n        orderInfo: order,\r\n        orderId,\r\n        confirmOrder,\r\n    }\r\n}\r\n\r\nexport default useOrderInfo"],"mappings":";AAAA,SAASA,SAAS,QAAkB,OAAO;AAC3C,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AACzD,SAASC,QAAQ,QAAQ,WAAW;AACpC,SAASC,cAAc,EAAEC,cAAc,QAAQ,gBAAgB;AAC/D,SAASC,aAAa,QAAQ,0BAA0B;AAExD,MAAMC,YAAY,GAAG,MAAM;EAAA;EACvB,MAAM;IAAEC;EAAQ,CAAC,GAAGN,SAAS,EAAE;EAE/B,MAAMO,KAAK,GAAGJ,cAAc,CAACK,KAAK,IAAIA,KAAK,CAACC,QAAQ,CAACC,SAAS,CAAC;EAC/D,MAAMC,QAAQ,GAAGT,cAAc,EAAE;EACjC,MAAMU,QAAQ,GAAGb,WAAW,EAAE;EAE9B,MAAMc,QAAQ,GAAG,YAAY;IACzB,MAAMN,KAAK,GAAG,MAAMO,KAAK,CAAE,GAAEb,QAAS,UAASK,OAAQ,EAAC,CAAC,CAACS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC;IAEjF,IAAIV,KAAK,CAACW,KAAK,EAAE;MACbN,QAAQ,CAAC,GAAG,CAAC;IACjB;IAEAD,QAAQ,CAACP,aAAa,CAACG,KAAK,CAAC,CAAC;EAClC,CAAC;EAED,MAAMY,YAAY,GAAG,YAAY;IAC7B,IAAI;MACA,MAAML,KAAK,CAAE,GAAEb,QAAS,YAAWK,OAAQ,EAAC,EAAE;QAC1Cc,MAAM,EAAE;MACZ,CAAC,CAAC,CAACL,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC;MAC1BI,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC5B,CAAC,CAAC,OAAOL,KAAU,EAAE;MACjBM,OAAO,CAACN,KAAK,CAACA,KAAK,CAACO,OAAO,CAAC;IAChC;EACJ,CAAC;EAED3B,SAAS,CAAC,MAAM;IACZ,IAAI,CAACS,KAAK,EAAE;MACRM,QAAQ,EAAE;IACd;EACJ,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EAEb,OAAO;IACHI,SAAS,EAAEH,KAAK;IAChBD,OAAO;IACPa;EACJ,CAAC;AACL,CAAC;AAAA,GAvCKd,YAAY;EAAA,QACML,SAAS,EAEfG,cAAc,EACXD,cAAc,EACdH,WAAW;AAAA;AAoChC,eAAeM,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}